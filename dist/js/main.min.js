import{setupSlider as e}from"../js/slider.js";import{initModal as s}from"../js/modal.js";import{initializeMap as t}from"../js/map.js";import{initProfileModal as a}from"../js/questionnaire.js";document.addEventListener("DOMContentLoaded",(()=>{const o=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting&&((e.target.classList.contains("fade-in")||e.target.classList.contains("fade-in-left")||e.target.classList.contains("fade-in-right")||e.target.classList.contains("wave-in"))&&(e.target.classList.add("visible"),o.unobserve(e.target)),e.target.classList.contains("lazy")&&e.intersectionRatio>=.5)){const s=e.target;console.log("Загрузка изображения:",s.dataset.src),s.classList.add("loading");const t=new Image;t.src=s.dataset.src,t.onload=()=>{console.log("Изображение успешно загружено:",s.dataset.src),s.src=s.dataset.src,s.removeAttribute("data-src"),s.classList.remove("lazy","loading"),s.classList.add("loaded"),o.unobserve(s)},t.onerror=()=>{console.error(`Ошибка загрузки изображения: ${s.dataset.src}`),s.classList.remove("loading"),s.classList.add("error")}}}))}),{root:null,rootMargin:"50px",threshold:[.15,.5]}),r=document.querySelectorAll(".fade-in, .fade-in-left, .fade-in-right, .wave-in");console.log("Найдено элементов для анимации:",r.length),r.forEach((e=>{o.observe(e)}));const n=document.querySelectorAll("img[data-src]");console.log("Найдено изображений для ленивой загрузки:",n.length),n.forEach((e=>{console.log("Начинаем наблюдение за изображением:",e.dataset.src),e.classList.add("lazy-placeholder"),o.observe(e)}));document.querySelectorAll(".pension-card").forEach((e=>{e.addEventListener("mouseenter",(()=>{e.style.transform="translateY(-10px)"})),e.addEventListener("mouseleave",(()=>{e.style.transform="translateY(0)"}))})),e(),t(),s(),a()}));